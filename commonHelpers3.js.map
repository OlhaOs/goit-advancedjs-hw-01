{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nconst FORM_DATA_KEY = 'feedback-form-state';\n\nconst refs = {\n  formEl: document.querySelector('.feedback-form'),\n  emailEl: document.querySelector('input'),\n  messageEl: document.querySelector('textarea'),\n};\n\nrefs.formEl.addEventListener('submit', handleFormSubmit);\nrefs.emailEl.addEventListener('input', throttle(handleFormInput, 500));\nrefs.messageEl.addEventListener('input', throttle(handleFormInput, 500));\n\nconst data = JSON.parse(localStorage.getItem(FORM_DATA_KEY)) || {};\n\nrefs.emailEl.value = data.email || '';\nrefs.messageEl.value = data.message || '';\n\nfunction handleFormInput(e) {\n  data[e.target.name] = e.target.value;\n  localStorage.setItem(FORM_DATA_KEY, JSON.stringify(data));\n}\n\nfunction handleFormSubmit(e) {\n  e.preventDefault();\n  console.log(data);\n  clearForm();\n}\nfunction clearForm() {\n  localStorage.removeItem(FORM_DATA_KEY);\n  refs.emailEl.value = '';\n  refs.messageEl.value = '';\n}\n"],"names":["FORM_DATA_KEY","refs","handleFormSubmit","throttle","handleFormInput","data","e","clearForm"],"mappings":"wIACA,MAAMA,EAAgB,sBAEhBC,EAAO,CACX,OAAQ,SAAS,cAAc,gBAAgB,EAC/C,QAAS,SAAS,cAAc,OAAO,EACvC,UAAW,SAAS,cAAc,UAAU,CAC9C,EAEAA,EAAK,OAAO,iBAAiB,SAAUC,CAAgB,EACvDD,EAAK,QAAQ,iBAAiB,QAASE,EAASC,EAAiB,GAAG,CAAC,EACrEH,EAAK,UAAU,iBAAiB,QAASE,EAASC,EAAiB,GAAG,CAAC,EAEvE,MAAMC,EAAO,KAAK,MAAM,aAAa,QAAQL,CAAa,CAAC,GAAK,GAEhEC,EAAK,QAAQ,MAAQI,EAAK,OAAS,GACnCJ,EAAK,UAAU,MAAQI,EAAK,SAAW,GAEvC,SAASD,EAAgBE,EAAG,CAC1BD,EAAKC,EAAE,OAAO,MAAQA,EAAE,OAAO,MAC/B,aAAa,QAAQN,EAAe,KAAK,UAAUK,CAAI,CAAC,CAC1D,CAEA,SAASH,EAAiBI,EAAG,CAC3BA,EAAE,eAAc,EAChB,QAAQ,IAAID,CAAI,EAChBE,GACF,CACA,SAASA,GAAY,CACnB,aAAa,WAAWP,CAAa,EACrCC,EAAK,QAAQ,MAAQ,GACrBA,EAAK,UAAU,MAAQ,EACzB"}